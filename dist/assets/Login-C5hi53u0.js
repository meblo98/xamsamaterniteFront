import{_ as p,a as u,b as c}from"./_plugin-vue_export-helper-Cm6_9V8g.js";import{c as n,a as t,w as f,t as g,b,d as a,v as d,o as m}from"./index-C-f7vtLL.js";const h={data(){return{login:"",password:"",error:null}},methods:{async submitLogin(){try{const l=await u.login({login:this.login,password:this.password}),{token:e,user:o}=l.data;localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("role",o.roles[0]),o.roles.includes("admin")?this.$router.push("/dashboard-admin"):o.roles.includes("sage-femme")?this.$router.push("/dashboard-sage-femme"):o.roles.includes("patiente")?this.$router.push("/dashboard-patiente"):o.roles.includes("badiene-gox")&&this.$router.push("/dashboard-badiene-gox")}catch{this.error="Identifiants incorrects. Veuillez réessayer."}}}},v={class:"vh-100"},x={class:"container-fluid h-custom"},w={class:"row d-flex justify-content-center align-items-center h-100"},y={class:"col-md-8 col-lg-6 col-xl-4 offset-xl-1"},_={key:0},S={"data-mdb-input-init":"",class:"form-outline mb-4"},k={"data-mdb-input-init":"",class:"form-outline mb-3"};function E(l,e,o,V,s,i){return m(),n("section",v,[t("div",x,[t("div",w,[e[6]||(e[6]=t("div",{class:"col-md-9 col-lg-6 col-xl-5"},[t("img",{src:c,class:"img-fluid",alt:"Sample image"})],-1)),t("div",y,[t("form",{onSubmit:e[2]||(e[2]=f((...r)=>i.submitLogin&&i.submitLogin(...r),["prevent"]))},[s.error?(m(),n("p",_,g(s.error),1)):b("",!0),t("div",S,[e[3]||(e[3]=t("label",{class:"form-label",for:"form3Example3"},"Email ou Téléphone",-1)),a(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>s.login=r),required:"",id:"login",class:"form-control form-control-lg",placeholder:"Entrer votre email ou votre téléphone"},null,512),[[d,s.login]])]),t("div",k,[e[4]||(e[4]=t("label",{class:"form-label",for:"form3Example4"},"Mot de passe",-1)),a(t("input",{type:"password",id:"password",class:"form-control form-control-lg",placeholder:"Entrer votre mot de passe","onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),required:""},null,512),[[d,s.password]])]),e[5]||(e[5]=t("div",{class:"text-center text-lg-start mt-4 pt-2"},[t("button",{type:"submit","data-mdb-button-init":"","data-mdb-ripple-init":"",class:"btn btn-primary btn-lg",style:{"padding-left":"2.5rem","padding-right":"2.5rem","background-color":"#522dd1"}}," Se connecter ")],-1))],32)])])])])}const B=p(h,[["render",E]]);export{B as default};
