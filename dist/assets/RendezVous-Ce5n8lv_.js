import{A as m}from"./AppointmentCard-CngG0IRZ.js";import{L as l}from"./Layout-BJFKaUJJ.js";import{_ as v,a as _}from"./_plugin-vue_export-helper-rQ_DBal5.js";import{c as f}from"./consultationService-TtmIVXSN.js";import{e as y,f as h,h as c,o,a as i,c as s,F as A,r as g,g as k}from"./index-1QRIi6KU.js";const D={components:{AppointmentCard:m,Layout:l},data(){return{rv:[]}},mounted(){this.fetchAppointments()},methods:{async fetchAppointments(){try{const e=(await _.getUser()).profil.id,r=await f.getRendezVousByPatiente(e);r.mes_rv&&!Array.isArray(r.mes_rv)?this.rv=[r.mes_rv]:this.rv=r.mes_rv}catch(t){console.error("Erreur lors de la récupération des rendez-vous :",t)}},formatDate(t){const e={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString("fr-FR",e)}}},L={class:"appointment-list"},w={key:0},z={key:1};function B(t,e,r,C,n,p){const d=c("AppointmentCard"),u=c("Layout");return o(),y(u,null,{default:h(()=>[e[1]||(e[1]=i("h2",null,"Mes Rendez-vous",-1)),i("div",L,[n.rv&&n.rv.length>0?(o(),s("div",w,[(o(!0),s(A,null,g(n.rv,a=>(o(),s("div",{key:a.id,class:"appointment-card-wrapper"},[k(d,{date:p.formatDate(a.date_rv),type:a.visite.libelle},null,8,["date","type"])]))),128))])):(o(),s("div",z,e[0]||(e[0]=[i("p",null,"Aucun rendez-vous pour toi.",-1)])))])]),_:1})}const E=v(D,[["render",B],["__scopeId","data-v-a8e21d26"]]);export{E as default};
