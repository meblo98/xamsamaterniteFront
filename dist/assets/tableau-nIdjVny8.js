import{o as a,c as o,a as n,t as m,F as c,r as h,w as v,b as k,d as u,m as D,v as b,i as M,p as g,q as f}from"./index-C-f7vtLL.js";import{_ as U}from"./_plugin-vue_export-helper-Cm6_9V8g.js";const V={name:"Table",data(){return{showModal:!1,formData:{},isEditing:!1}},props:{columns:{type:Array,required:!0},data:{type:Array,required:!0},title:{type:String,default:"Tableau"},formFields:{type:Array,required:!0}},methods:{handleAction(d,s){d==="close"&&(this.showModal=!1),this.$emit("action",{action:d,row:s})},handleFileUpload(d,s){const i=d.target.files[0];this.formData[s]=i},openModal(){this.showModal=!0,this.isEditing=!1,this.formData=this.initializeFormData()},editData(d){this.showModal=!0,this.isEditing=!0,this.formData=this.initializeFormData(d)},handleSubmit(){this.isEditing?this.$emit("edit-data",{...this.formData,id:this.formData.id}):this.$emit("add-data",this.formData),this.closeModal()},closeModal(){this.showModal=!1,this.formData={}},initializeFormData(d={}){const s={};return this.formFields.forEach(i=>{s[i.name]=d[i.name]||(i.type==="select"?i.options[0].value:"")}),d.id&&(s.id=d.id),s}}},x={class:"custom-table table-responsive"},C={class:"header"},F={key:0},A={key:1},E=["onClick"],w=["onClick"],S=["onClick"],T={class:"modal-content w-100"},q={class:"entete d-flex",style:{"grid-gap":"400px"}},j=["for"],z=["onUpdate:modelValue","type","id","placeholder"],B=["onUpdate:modelValue","id","placeholder"],N=["onUpdate:modelValue","id"],I=["value"],L={key:3},R=["onUpdate:modelValue","id"],G=["for"],H={key:4},J=["onUpdate:modelValue","id","value"],K=["for"],O=["onUpdate:modelValue","id"],P=["onUpdate:modelValue","id"],Q=["id","onChange"],W={type:"submit"};function X(d,s,i,Y,l,r){return a(),o("div",x,[n("div",C,[n("h3",null,m(i.title),1),n("button",{class:"add-btn",onClick:s[0]||(s[0]=(...e)=>r.openModal&&r.openModal(...e))},"Ajouter")]),n("table",null,[n("thead",null,[n("tr",null,[(a(!0),o(c,null,h(i.columns,(e,p)=>(a(),o("th",{key:p},m(e.label),1))),128))])]),n("tbody",null,[(a(!0),o(c,null,h(i.data,(e,p)=>(a(),o("tr",{key:p},[(a(!0),o(c,null,h(i.columns,(t,y)=>(a(),o("td",{key:y},[t.type!=="action"?(a(),o("span",F,m(e[t.field]),1)):(a(),o("span",A,[n("button",{onClick:_=>r.handleAction("view",e)},"👁️",8,E),n("button",{onClick:_=>r.editData(e)},"✏️",8,w),n("button",{onClick:_=>r.handleAction("delete",e)},"🗑️",8,S)]))]))),128))]))),128))])]),l.showModal?(a(),o("div",{key:0,class:"modal-overlay modal-dialog modal-lg",onClick:s[3]||(s[3]=v((...e)=>r.closeModal&&r.closeModal(...e),["self"]))},[n("div",T,[n("div",q,[n("h4",null,m(l.isEditing?"Modifier":"Ajouter")+" "+m(i.title),1),n("button",{type:"button",class:"btn-close bg-light",onClick:s[1]||(s[1]=(...e)=>r.closeModal&&r.closeModal(...e))})]),n("form",{onSubmit:s[2]||(s[2]=v((...e)=>r.handleSubmit&&r.handleSubmit(...e),["prevent"]))},[(a(!0),o(c,null,h(i.formFields,(e,p)=>(a(),o("div",{key:p,class:"form-group"},[n("label",{for:e.name},m(e.label),9,j),e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"?u((a(),o("input",{key:0,"onUpdate:modelValue":t=>l.formData[e.name]=t,type:e.type,id:e.name,placeholder:e.placeholder},null,8,z)),[[D,l.formData[e.name]]]):e.type==="textarea"?u((a(),o("textarea",{key:1,"onUpdate:modelValue":t=>l.formData[e.name]=t,id:e.name,placeholder:e.placeholder},null,8,B)),[[b,l.formData[e.name]]]):e.type==="select"?u((a(),o("select",{key:2,"onUpdate:modelValue":t=>l.formData[e.name]=t,id:e.name},[(a(!0),o(c,null,h(e.options,(t,y)=>(a(),o("option",{key:y,value:t.value},m(t.text),9,I))),128))],8,N)),[[M,l.formData[e.name]]]):e.type==="checkbox"?(a(),o("div",L,[u(n("input",{"onUpdate:modelValue":t=>l.formData[e.name]=t,id:e.name,type:"checkbox"},null,8,R),[[g,l.formData[e.name]]]),n("label",{for:e.name},m(e.label),9,G)])):e.type==="radio"?(a(),o("div",H,[(a(!0),o(c,null,h(e.options,(t,y)=>(a(),o("div",{key:y},[u(n("input",{"onUpdate:modelValue":_=>l.formData[e.name]=_,id:t.value,type:"radio",value:t.value},null,8,J),[[f,l.formData[e.name]]]),n("label",{for:t.value},m(t.label),9,K)]))),128))])):e.type==="date"?u((a(),o("input",{key:5,"onUpdate:modelValue":t=>l.formData[e.name]=t,id:e.name,type:"date"},null,8,O)),[[b,l.formData[e.name]]]):e.type==="time"?u((a(),o("input",{key:6,"onUpdate:modelValue":t=>l.formData[e.name]=t,id:e.name,type:"time"},null,8,P)),[[b,l.formData[e.name]]]):e.type==="file"?(a(),o("input",{key:7,id:e.name,type:"file",onChange:t=>r.handleFileUpload(t,e.name)},null,40,Q)):k("",!0)]))),128)),n("button",W,m(l.isEditing?"Modifier":"Ajouter"),1)],32)])])):k("",!0)])}const ee=U(V,[["render",X],["__scopeId","data-v-edc67192"]]);export{ee as T};
